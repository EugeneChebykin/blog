{"version":3,"sources":["api/index.js","functions/index.js","history/index.js","store/actions/index.js","store/reducers/articlesReducer.js","store/reducers/pageSettingsReducer.js","store/reducers/errorsReducer.js","store/reducers/userReducer.js","store/reducers/index.js","store/index.js","components/Navbar.jsx","components/Like.jsx","components/ArticlePreview.jsx","components/ArticlesList.jsx","components/UserProfile.jsx","routes/Home.jsx","components/LoginForm.jsx","routes/Login.jsx","components/SignUpForm.jsx","routes/SignUp.jsx","components/HistoryBackButton.jsx","components/ArticleActions.jsx","routes/Article.jsx","routes/ArticleEdit.jsx","routes/ArticleAdd.jsx","routes/index.jsx","App.js","serviceWorker.js","index.js"],"names":["api","axios","create","baseURL","headers","user","JSON","parse","localStorage","getItem","token","Authorization","authHeader","login","a","async","post","response","setItem","stringify","data","registration","getArticles","params","get","editArticle","slug","body","put","article","addArticle","deleteArticle","delete","setFavorite","unsetFavorite","createBrowserHistory","basename","loginRequest","createAction","loginSuccess","loginFailure","logout","registrRequest","registrSuccess","registrFailure","articlesRequest","articlesSuccess","articlesFailure","editArticleRequest","editArticleSuccess","editArticleFailure","deleteArticleRequest","deleteArticleSuccess","deleteArticleFailure","addArticleRequest","addArticleSuccess","addArticleFailure","setFavoriteRequest","setFavoriteSuccess","setFavoriteFailure","unsetFavoriteRequest","unsetFavoriteSuccess","unsetFavoriteFailure","changePage","setArticlesParams","articlesAction","dispatch","API","articles","articlesCount","articlesReducer","handleActions","actions","state","payload","newArticle","map","srticles","filter","limit","pageSettingsReducer","pageNumber","currentPage","pageSize","errorsReducer","errors","initialState","loggedIn","userReducer","userData","removeItem","combineReducers","pageSettings","createStore","reducers","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","withRouter","props","useSelector","useDispatch","location","theme","mode","defaultSelectedKeys","pathname","selectedKeys","style","lineHeight","display","Item","key","to","marginLeft","onClick","Like","favorited","favoritesCount","type","twoToneColor","fontSize","Meta","Card","ArticlePreview","title","author","description","createdAt","tagList","formattedDate","formatDistance","Date","locale","ruLocale","hoverable","extra","username","length","tag","ArticlesList","list","gridTemplateColumns","gridGap","UserProfile","width","marginRight","size","icon","email","marginTop","history","push","Home","useEffect","padding","flexGrow","current","total","onChange","page","offset","validationSchema","Yup","shape","required","password","LoginForm","errorsApi","initialValues","onSubmit","values","setSubmitting","resetForm","touched","isSubmitting","handleChange","handleBlur","handleSubmit","validateStatus","help","id","prefix","placeholder","value","onBlur","htmlType","disabled","isEmpty","message","Login","justifyContent","alignItems","min","max","matches","SignUpForm","SignUp","HistoryBackButton","marginBottom","go","ArticleActions","defaultProps","Article","match","find","item","tags","minHeight","ArticleEdit","storageArticle","inputTagRef","React","createRef","of","className","flexDirection","TextArea","autoSize","minRows","maxRows","name","render","remove","index","closable","onClose","ref","ArticleAdd","Header","Layout","Content","ConditionalRoute","Comp","component","pathToRedirect","conditionFunc","rest","Routes","maxWidth","exact","path","App","store","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","unregister"],"mappings":"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","file":"static/js/main.df4796e8.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { authHeader } from '../functions';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'https://conduit.productionready.io/api/',\r\n  headers: authHeader(),\r\n});\r\n\r\nexport const login = async user => {\r\n  const response = await api.post('/users/login', { user });\r\n  localStorage.setItem('user', JSON.stringify(response.data.user));\r\n  return response.data.user;\r\n};\r\nexport const registration = async user => {\r\n  const response = await api.post('/users', { user });\r\n  return response.data.user;\r\n};\r\n\r\nexport const getArticles = async params => {\r\n  const response = await api.get('/articles', { params });\r\n  return response.data;\r\n};\r\n\r\nexport const getOneArticle = async slug => {\r\n  const response = await api.get(`/articles/${slug}`);\r\n  const {\r\n    data: { article },\r\n  } = response;\r\n  return article;\r\n};\r\n\r\nexport const editArticle = async (slug, body) => {\r\n  const response = await api.put(`/articles/${slug}`, JSON.stringify({ article: body }));\r\n  const {\r\n    data: { article },\r\n  } = response;\r\n  return article;\r\n};\r\n\r\nexport const addArticle = async body => {\r\n  const response = await api.post('/articles', JSON.stringify({ article: body }));\r\n  const {\r\n    data: { article },\r\n  } = response;\r\n  return article;\r\n};\r\n\r\nexport const deleteArticle = async slug => {\r\n  const response = await api.delete(`/articles/${slug}`);\r\n  return response;\r\n};\r\n\r\nexport const setFavorite = async slug => {\r\n  const response = await api.post(`/articles/${slug}/favorite`);\r\n  const {\r\n    data: { article },\r\n  } = response;\r\n  return article;\r\n};\r\n\r\nexport const unsetFavorite = async slug => {\r\n  const response = await api.delete(`/articles/${slug}/favorite`);\r\n  const {\r\n    data: { article },\r\n  } = response;\r\n  return article;\r\n};\r\n\r\nexport default api;\r\n","// eslint-disable-next-line id-length\r\nimport lodash from 'lodash';\r\n\r\nexport const paginate = (items, pageNumber, pageSize) => {\r\n  const startIndex = (pageNumber - 1) * pageSize;\r\n  return lodash(items)\r\n    .slice(startIndex)\r\n    .take(pageSize)\r\n    .value();\r\n};\r\n\r\nexport const authHeader = () => {\r\n  const user = JSON.parse(localStorage.getItem('user'));\r\n\r\n  return user && user.token ? { Authorization: `Token ${user.token}` } : {};\r\n};\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory({ basename: '/blog' });\r\n","import { createAction } from 'redux-actions';\r\nimport * as API from '../../api';\r\nimport history from '../../history';\r\n\r\nexport const loginRequest = createAction('USER_LOGIN_REQUEST');\r\nexport const loginSuccess = createAction('USER_LOGIN_SUCCESS');\r\nexport const loginFailure = createAction('USER_LOGIN_FAILURE');\r\n\r\nexport const logout = createAction('USER_LOGOUT');\r\n\r\nexport const registrRequest = createAction('USER_REGISTR_REQUEST');\r\nexport const registrSuccess = createAction('USER_REGISTR_SUCCESS');\r\nexport const registrFailure = createAction('USER_REGISTR_FAILURE');\r\n\r\nexport const articlesRequest = createAction('ARTICLES_REQUEST');\r\nexport const articlesSuccess = createAction('ARTICLES_SUCCESS');\r\nexport const articlesFailure = createAction('ARTICLES_FAILURE');\r\n\r\nexport const editArticleRequest = createAction('EDIT_ARTICLE_REQUEST');\r\nexport const editArticleSuccess = createAction('EDIT_ARTICLE_SUCCESS');\r\nexport const editArticleFailure = createAction('EDIT_ARTICLE_FAILURE');\r\n\r\nexport const deleteArticleRequest = createAction('DELETE_ARTICLE_REQUEST');\r\nexport const deleteArticleSuccess = createAction('DELETE_ARTICLE_SUCCESS');\r\nexport const deleteArticleFailure = createAction('DELETE_ARTICLE_FAILURE');\r\n\r\nexport const addArticleRequest = createAction('ADD_ARTICLE_REQUEST');\r\nexport const addArticleSuccess = createAction('ADD_ARTICLE_SUCCESS');\r\nexport const addArticleFailure = createAction('ADD_ARTICLE_FAILURE');\r\n\r\nexport const setFavoriteRequest = createAction('SET_FAVORITE_REQUEST');\r\nexport const setFavoriteSuccess = createAction('SET_FAVORITE_SUCCESS');\r\nexport const setFavoriteFailure = createAction('SET_FAVORITE_FAILURE');\r\n\r\nexport const unsetFavoriteRequest = createAction('UNSET_FAVORITE_REQUEST');\r\nexport const unsetFavoriteSuccess = createAction('UNSET_FAVORITE_SUCCESS');\r\nexport const unsetFavoriteFailure = createAction('UNSET_FAVORITE_FAILURE');\r\n\r\nexport const changePage = createAction('CHANGE_CURRENT_PAGE');\r\nexport const setArticlesParams = createAction('SET_ARTICLES_PARAMS');\r\n\r\nexport const setFavoriteAction = slug => async dispatch => {\r\n  dispatch(setFavoriteRequest());\r\n  try {\r\n    const article = await API.setFavorite(slug);\r\n    dispatch(setFavoriteSuccess({ article }));\r\n  } catch (err) {\r\n    dispatch(setFavoriteFailure(err.response.data));\r\n  }\r\n};\r\n\r\nexport const unsetFavoriteAction = slug => async dispatch => {\r\n  dispatch(unsetFavoriteRequest());\r\n  try {\r\n    const article = await API.unsetFavorite(slug);\r\n    dispatch(unsetFavoriteSuccess({ article }));\r\n  } catch (err) {\r\n    dispatch(unsetFavoriteFailure(err.response.data));\r\n  }\r\n};\r\n\r\nexport const changePageAction = pageNumber => async dispatch => {\r\n  dispatch(changePage({ pageNumber }));\r\n};\r\n\r\nexport const setArticlesParamsAction = params => async dispatch => {\r\n  dispatch(setArticlesParams({ params }));\r\n};\r\n\r\nexport const addArticleAction = body => async dispatch => {\r\n  dispatch(addArticleRequest());\r\n  try {\r\n    const article = await API.addArticle(body);\r\n    dispatch(addArticleSuccess({ article }));\r\n    history.push(`/articles/${article.slug}`);\r\n  } catch (err) {\r\n    dispatch(addArticleFailure(err.response.data));\r\n  }\r\n};\r\n\r\nexport const deleteArticleAction = slug => async dispatch => {\r\n  dispatch(deleteArticleRequest());\r\n  try {\r\n    await API.deleteArticle(slug);\r\n    dispatch(deleteArticleSuccess({ slug }));\r\n  } catch (err) {\r\n    dispatch(deleteArticleFailure(err.response.data));\r\n  }\r\n};\r\n\r\nexport const editArticleAction = (slug, body) => async dispatch => {\r\n  dispatch(editArticleRequest());\r\n  try {\r\n    const article = await API.editArticle(slug, body);\r\n    dispatch(editArticleSuccess({ article }));\r\n    history.push(`/articles/${slug}`);\r\n  } catch (err) {\r\n    dispatch(editArticleFailure(err.response.data));\r\n  }\r\n};\r\n\r\nexport const loginAction = user => async dispatch => {\r\n  dispatch(loginRequest());\r\n  try {\r\n    const response = await API.login(user);\r\n    dispatch(loginSuccess({ userData: response }));\r\n    history.push('/home');\r\n  } catch (err) {\r\n    dispatch(loginFailure(err.response.data));\r\n  }\r\n};\r\n\r\nexport const registrAction = user => async dispatch => {\r\n  dispatch(registrRequest());\r\n  try {\r\n    const response = await API.registration(user);\r\n    dispatch(registrSuccess({ userData: response }));\r\n    history.push('/login');\r\n  } catch (err) {\r\n    dispatch(registrFailure(err.response.data));\r\n  }\r\n};\r\n\r\nexport const articlesAction = params => async dispatch => {\r\n  dispatch(articlesRequest());\r\n  try {\r\n    dispatch(setArticlesParams({ params }));\r\n    const { articles, articlesCount } = await API.getArticles(params);\r\n    dispatch(articlesSuccess({ articles, articlesCount }));\r\n  } catch (err) {\r\n    dispatch(articlesFailure(err.response.data));\r\n  }\r\n};\r\n","import { handleActions } from 'redux-actions';\r\nimport * as actions from '../actions';\r\n\r\nconst initialState = { articles: [], articlesCount: 0, params: { limit: 10 } };\r\n\r\nconst articlesReducer = handleActions(\r\n  {\r\n    [actions.setArticlesParams](state, { payload: { params } }) {\r\n      return { ...state, params };\r\n    },\r\n    [actions.setFavoriteSuccess](state, { payload: { article: newArticle } }) {\r\n      const articles = state.articles.map(article =>\r\n        article.slug === newArticle.slug ? newArticle : article\r\n      );\r\n      return { ...state, articles };\r\n    },\r\n    [actions.unsetFavoriteSuccess](state, { payload: { article: newArticle } }) {\r\n      const articles = state.articles.map(article =>\r\n        article.slug === newArticle.slug ? newArticle : article\r\n      );\r\n      return { ...state, articles };\r\n    },\r\n    [actions.editArticleSuccess](state, { payload: { article: newArticle } }) {\r\n      const articles = state.articles.map(article =>\r\n        article.slug === newArticle.slug ? newArticle : article\r\n      );\r\n      return { ...state, articles };\r\n    },\r\n    [actions.addArticleSuccess](state, { payload: { article: newArticle } }) {\r\n      const articles = [...state.articles, newArticle];\r\n      return { ...state, articles };\r\n    },\r\n    [actions.deleteArticleSuccess](state, { payload: { slug } }) {\r\n      const articles = state.srticles.filter(article => article.slug !== slug);\r\n      return { ...state, articles };\r\n    },\r\n    [actions.articlesSuccess](state, { payload: { articles, articlesCount } }) {\r\n      return { ...state, articles, articlesCount };\r\n    },\r\n    [actions.articlesFailure](state) {\r\n      return { ...state, articles: [] };\r\n    },\r\n  },\r\n  initialState\r\n);\r\n\r\nexport default articlesReducer;\r\n","import { handleActions } from 'redux-actions';\r\nimport * as actions from '../actions';\r\n\r\nconst initialState = { currentPage: 1, pageSize: 10 };\r\n\r\nconst pageSettingsReducer = handleActions(\r\n  {\r\n    [actions.changePage](state, { payload: { pageNumber } }) {\r\n      return { ...state, currentPage: pageNumber };\r\n    },\r\n  },\r\n  initialState\r\n);\r\n\r\nexport default pageSettingsReducer;\r\n","import { handleActions } from 'redux-actions';\r\nimport * as actions from '../actions';\r\n\r\nconst errorsReducer = handleActions(\r\n  {\r\n    [actions.loginSuccess]() {\r\n      return '';\r\n    },\r\n    [actions.loginFailure](state, { payload: { errors } }) {\r\n      return errors;\r\n    },\r\n    [actions.registrFailure](state, { payload: { errors } }) {\r\n      return errors;\r\n    },\r\n    [actions.editArticleFailure](state, { payload, payload: { errors } }) {\r\n      return errors || payload;\r\n    },\r\n    [actions.addArticleFailure](state, { payload, payload: { errors } }) {\r\n      return errors || payload;\r\n    },\r\n    [actions.deleteArticleFailure](state, { payload, payload: { errors } }) {\r\n      return errors || payload;\r\n    },\r\n  },\r\n  {}\r\n);\r\n\r\nexport default errorsReducer;\r\n","import { handleActions } from 'redux-actions';\r\nimport * as actions from '../actions';\r\n\r\nconst user = JSON.parse(localStorage.getItem('user'));\r\nconst initialState = user ? { loggedIn: true, user } : { loggedIn: false };\r\n\r\nconst userReducer = handleActions(\r\n  {\r\n    [actions.loginSuccess](state, { payload: { userData } }) {\r\n      return { loggedIn: true, user: userData };\r\n    },\r\n    [actions.loginFailure]() {\r\n      return { loggedIn: false };\r\n    },\r\n    [actions.logout]() {\r\n      localStorage.removeItem('user');\r\n      return { loggedIn: false };\r\n    },\r\n  },\r\n  initialState\r\n);\r\n\r\nexport default userReducer;\r\n","import { combineReducers } from 'redux';\r\nimport articlesReducer from './articlesReducer';\r\nimport pageSettingsReducer from './pageSettingsReducer';\r\nimport errorsReducer from './errorsReducer';\r\nimport userReducer from './userReducer';\r\n\r\nexport default combineReducers({\r\n  user: userReducer,\r\n  errors: errorsReducer,\r\n  articles: articlesReducer,\r\n  pageSettings: pageSettingsReducer,\r\n});\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport reducers from './reducers';\r\n\r\n// eslint-disable-next-line no-underscore-dangle\r\nconst devtools = () => window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__();\r\n\r\nexport default createStore(reducers, compose(applyMiddleware(thunk), devtools()));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Menu } from 'antd';\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport * as actions from '../store/actions';\r\n\r\nconst Navbar = props => {\r\n  const { loggedIn } = useSelector(state => state.user);\r\n  const dispatch = useDispatch();\r\n  const { location } = props;\r\n\r\n  const handleLogoutClick = () => dispatch(actions.logout());\r\n\r\n  return (\r\n    <Menu\r\n      theme=\"dark\"\r\n      mode=\"horizontal\"\r\n      defaultSelectedKeys={[location.pathname]}\r\n      selectedKeys={[location.pathname]}\r\n      style={{ lineHeight: '64px', display: 'flex' }}\r\n    >\r\n      <Menu.Item key=\"/home\">\r\n        <NavLink to=\"/home\">Home</NavLink>\r\n      </Menu.Item>\r\n      {!loggedIn && (\r\n        <Menu.Item key=\"/login\" style={{ marginLeft: 'auto' }}>\r\n          <NavLink to=\"/login\">Login</NavLink>\r\n        </Menu.Item>\r\n      )}\r\n      {loggedIn && (\r\n        <Menu.Item style={{ marginLeft: 'auto' }} onClick={handleLogoutClick}>\r\n          Log out\r\n        </Menu.Item>\r\n      )}\r\n    </Menu>\r\n  );\r\n};\r\n\r\nNavbar.propTypes = {\r\n  location: PropTypes.instanceOf(Object).isRequired,\r\n};\r\n\r\nexport default withRouter(Navbar);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Icon } from 'antd';\r\nimport { useDispatch } from 'react-redux';\r\nimport * as actions from '../store/actions';\r\n\r\nconst Like = ({ article }) => {\r\n  const dispatch = useDispatch();\r\n  const { favorited, favoritesCount, slug } = article;\r\n  const handleSetLike = () => dispatch(actions.setFavoriteAction(slug));\r\n  const handleUnsetLike = () => dispatch(actions.unsetFavoriteAction(slug));\r\n  return (\r\n    <div>\r\n      <Icon\r\n        type=\"heart\"\r\n        theme={favorited ? 'twoTone' : 'outlined'}\r\n        twoToneColor=\"#eb2f96\"\r\n        style={{ fontSize: '20px' }}\r\n        onClick={favorited ? handleUnsetLike : handleSetLike}\r\n      />\r\n      <span style={{ fontSize: '22px' }}>{favoritesCount}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nLike.propTypes = {\r\n  article: PropTypes.instanceOf(Object).isRequired,\r\n};\r\n\r\nexport default Like;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { formatDistance } from 'date-fns';\r\nimport ruLocale from 'date-fns/locale/ru';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, Tag } from 'antd';\r\nimport Like from './Like';\r\n\r\nconst { Meta } = Card;\r\n\r\nconst ArticlePreview = ({ article }) => {\r\n  const { title, author, description, createdAt, slug, tagList } = article;\r\n  const formattedDate = formatDistance(new Date(createdAt), new Date(), { locale: ruLocale });\r\n\r\n  const linkOnClick = () => {\r\n    localStorage.setItem('openedArticle', JSON.stringify(article));\r\n  };\r\n  return (\r\n    <Card hoverable title={title} extra={<Like article={article} />}>\r\n      <p>{description}</p>\r\n      <Link to={`/articles/${slug}`} onClick={linkOnClick}>\r\n        Читать далее...\r\n      </Link>\r\n      <Meta description={`Создана ${formattedDate} назад`} />\r\n      <Meta description={`Автор ${author.username}`} />\r\n      {tagList.length > 0 && (\r\n        <p>\r\n          Тэги:\r\n          {tagList.map(tag => (\r\n            <Tag key={tag}>{tag}</Tag>\r\n          ))}\r\n        </p>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nArticlePreview.propTypes = {\r\n  article: PropTypes.instanceOf(Object).isRequired,\r\n};\r\n\r\nexport default ArticlePreview;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport ArticlePreview from './ArticlePreview';\r\n// import { paginate } from '../functions';\r\n\r\nconst ArticlesList = () => {\r\n  const { articles /* , pageSize, currentPage */ } = useSelector(state => ({\r\n    articles: state.articles.articles,\r\n    pageSize: state.pageSettings.pageSize,\r\n    currentPage: state.pageSettings.currentPage,\r\n  }));\r\n  // const currentPageArticles = paginate(articles, currentPage, pageSize);\r\n  const list = articles.map(article => <ArticlePreview key={article.slug} article={article} />);\r\n  const styles = {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fill, minmax(350px, 1fr))',\r\n    gridGap: '10px',\r\n  };\r\n\r\n  return <div style={styles}>{list}</div>;\r\n};\r\n\r\nexport default ArticlesList;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Card, Avatar, Button } from 'antd';\r\nimport * as actions from '../store/actions';\r\nimport history from '../history';\r\n\r\nconst { Meta } = Card;\r\n\r\nconst UserProfile = () => {\r\n  const { pageSize, user } = useSelector(state => ({\r\n    pageSize: state.pageSettings.pageSize,\r\n    params: state.articles.params,\r\n    user: state.user.user,\r\n  }));\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <Card\r\n      hoverable\r\n      style={{ width: 240, marginRight: '10px' }}\r\n      title={<Avatar size={64} icon=\"user\" />}\r\n    >\r\n      <Meta title={user.username} description={user.email} />\r\n      <Button\r\n        style={{ marginTop: '20px', width: '100%' }}\r\n        type=\"primary\"\r\n        onClick={() => {\r\n          dispatch(actions.articlesAction({ author: user.username }));\r\n        }}\r\n      >\r\n        Показать мои статьи\r\n      </Button>\r\n      <Button\r\n        style={{ marginTop: '20px', width: '100%' }}\r\n        type=\"primary\"\r\n        onClick={() => dispatch(actions.articlesAction({ limit: pageSize }))}\r\n      >\r\n        Показать все статьи\r\n      </Button>\r\n      <Button\r\n        style={{ marginTop: '20px', width: '100%' }}\r\n        type=\"primary\"\r\n        onClick={() =>\r\n          dispatch(actions.articlesAction({ limit: pageSize, favorited: user.username }))\r\n        }\r\n      >\r\n        Показать понравившиеся\r\n      </Button>\r\n      <Button\r\n        style={{ marginTop: '20px', width: '100%' }}\r\n        type=\"primary\"\r\n        onClick={() => history.push('/add')}\r\n      >\r\n        Добавить новую статью\r\n      </Button>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, { useEffect } from 'react';\r\nimport { Pagination } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport ArticlesList from '../components/ArticlesList';\r\nimport * as actions from '../store/actions';\r\nimport UserProfile from '../components/UserProfile';\r\n\r\nconst Home = () => {\r\n  const { loggedIn } = useSelector(state => state.user);\r\n  const dispatch = useDispatch();\r\n  const { currentPage, pageSize, articlesCount, params } = useSelector(state => ({\r\n    articles: state.articles.articles,\r\n    articlesCount: state.articles.articlesCount,\r\n    currentPage: state.pageSettings.currentPage,\r\n    pageSize: state.pageSettings.pageSize,\r\n    params: state.articles.params,\r\n  }));\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.articlesAction({ limit: 10 }));\r\n  }, []);\r\n\r\n  const handlePageChange = page => {\r\n    dispatch(actions.changePageAction(page));\r\n    dispatch(actions.articlesAction({ ...params, offset: (page - 1) * pageSize }));\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '40px', display: 'flex' }}>\r\n      {loggedIn && <UserProfile />}\r\n      <div style={{ flexGrow: '1' }}>\r\n        <ArticlesList />\r\n        <Pagination\r\n          style={{ marginTop: '30px' }}\r\n          current={currentPage}\r\n          total={articlesCount}\r\n          pageSize={pageSize}\r\n          onChange={handlePageChange}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { isEmpty } from 'lodash';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Input, Icon, Button, Alert } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport * as actions from '../store/actions';\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  email: Yup.string()\r\n    .email('Must be a valid email address')\r\n    .required('Email is required'),\r\n  password: Yup.string().required('Password is required'),\r\n});\r\n\r\nconst LoginForm = () => {\r\n  const { errors: errorsApi } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <Formik\r\n      initialValues={{ email: '', password: '' }}\r\n      validationSchema={validationSchema}\r\n      onSubmit={(values, { setSubmitting, resetForm }) => {\r\n        setSubmitting(true);\r\n        dispatch(actions.loginAction(values));\r\n        setSubmitting(false);\r\n        resetForm();\r\n      }}\r\n    >\r\n      {({ values, errors, touched, isSubmitting, handleChange, handleBlur, handleSubmit }) => (\r\n        <Form onSubmit={handleSubmit} style={{ marginTop: '70px', width: '300px' }}>\r\n          <Form.Item\r\n            validateStatus={touched.email && errors.email ? 'error' : null}\r\n            help={touched.email && errors.email ? errors.email : null}\r\n          >\r\n            <Input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              prefix={<Icon type=\"mail\" />}\r\n              placeholder=\"Enter an email\"\r\n              value={values.email}\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            validateStatus={touched.password && errors.password ? 'error' : null}\r\n            help={touched.password && errors.password ? errors.password : null}\r\n          >\r\n            <Input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              prefix={<Icon type=\"lock\" />}\r\n              placeholder=\"Enter a password\"\r\n              value={values.password}\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Button\r\n              style={{ width: '100%' }}\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              disabled={isSubmitting}\r\n            >\r\n              Log in\r\n            </Button>\r\n            Or <Link to=\"/signup\">register now!</Link>\r\n          </Form.Item>\r\n          {!isEmpty(errorsApi) && (\r\n            <Alert type=\"error\" message={JSON.stringify(errorsApi, null, 2)} />\r\n          )}\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React from 'react';\r\nimport LoginForm from '../components/LoginForm';\r\n\r\nconst Login = () => {\r\n  const styles = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  return (\r\n    <div style={styles}>\r\n      <LoginForm />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { isEmpty } from 'lodash';\r\nimport { Form, Input, Icon, Button, Alert } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport * as actions from '../store/actions';\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  username: Yup.string()\r\n    .min(1, 'Must have a character')\r\n    .max(50, 'Must be shorter than 50')\r\n    .required('Must enter a name'),\r\n  email: Yup.string()\r\n    .email('Must be a valid email address')\r\n    .required('Email is required'),\r\n  password: Yup.string()\r\n    .min(8, 'Must be longer than 8')\r\n    .max(40, 'Must be shorter than 40')\r\n    .matches(/[0-9]/, 'Must have at least one digit')\r\n    .matches(/[A-Z]/, 'Must have at least one uppercase character')\r\n    .matches(/^[a-zA-Z0-9]{8,}$/, 'Must have only letters and digits')\r\n    .required('Password is required'),\r\n});\r\n\r\nconst SignUpForm = () => {\r\n  const { errors: errorsApi } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <Formik\r\n      initialValues={{ username: '', email: '', password: '' }}\r\n      validationSchema={validationSchema}\r\n      onSubmit={(values, { setSubmitting, resetForm }) => {\r\n        setSubmitting(true);\r\n        dispatch(actions.registrAction(values));\r\n        setSubmitting(false);\r\n        resetForm();\r\n      }}\r\n    >\r\n      {({ values, errors, touched, isSubmitting, handleChange, handleBlur, handleSubmit }) => (\r\n        <Form onSubmit={handleSubmit} style={{ marginTop: '70px', width: '300px' }}>\r\n          <Form.Item\r\n            validateStatus={touched.username && errors.username ? 'error' : null}\r\n            help={touched.username && errors.username ? errors.username : null}\r\n          >\r\n            <Input\r\n              type=\"text\"\r\n              id=\"username\"\r\n              prefix={<Icon type=\"user\" />}\r\n              placeholder=\"Enter a username\"\r\n              value={values.username}\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            validateStatus={touched.email && errors.email ? 'error' : null}\r\n            help={touched.email && errors.email ? errors.email : null}\r\n          >\r\n            <Input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              prefix={<Icon type=\"mail\" />}\r\n              placeholder=\"Enter an email\"\r\n              value={values.email}\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            validateStatus={touched.password && errors.password ? 'error' : null}\r\n            help={touched.password && errors.password ? errors.password : null}\r\n          >\r\n            <Input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              prefix={<Icon type=\"lock\" />}\r\n              placeholder=\"Enter a password\"\r\n              value={values.password}\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Button\r\n              style={{ width: '100%' }}\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              disabled={isSubmitting}\r\n            >\r\n              Sign up\r\n            </Button>\r\n          </Form.Item>\r\n          {!isEmpty(errorsApi) && (\r\n            <Alert type=\"error\" message={JSON.stringify(errorsApi, null, 2)} />\r\n          )}\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default SignUpForm;\r\n","import React from 'react';\r\nimport SignUpForm from '../components/SignUpForm';\r\n\r\nconst SignUp = () => {\r\n  const styles = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  return (\r\n    <div style={styles}>\r\n      <SignUpForm />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React from 'react';\r\nimport { Button } from 'antd';\r\nimport history from '../history';\r\n\r\nconst HistoryBackButton = () => {\r\n  const returnBack = () => history.go(-1);\r\n  return (\r\n    <Button style={{ marginBottom: '30px' }} type=\"primary\" onClick={returnBack}>\r\n      Назад\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default HistoryBackButton;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'antd';\r\nimport { useDispatch } from 'react-redux';\r\nimport Like from './Like';\r\nimport history from '../history';\r\nimport * as actions from '../store/actions';\r\n\r\nconst ArticleActions = ({ article, user }) => {\r\n  const { author = {}, slug } = article;\r\n  const dispatch = useDispatch();\r\n  const handleDeleteClick = () => {\r\n    dispatch(actions.deleteArticleAction(slug));\r\n    history.push(`/`);\r\n  };\r\n  return (\r\n    <div style={{ display: 'flex', alignItems: 'center' }}>\r\n      <span style={{ marginRight: '20px' }}>\r\n        <Like article={article} />\r\n      </span>\r\n      {user.username === author.username && (\r\n        <div>\r\n          <Button\r\n            type=\"primary\"\r\n            size=\"large\"\r\n            shape=\"circle\"\r\n            icon=\"edit\"\r\n            onClick={() => {\r\n              history.push(`/articles/${slug}/edit`);\r\n            }}\r\n          />\r\n          <Button\r\n            type=\"danger\"\r\n            size=\"large\"\r\n            shape=\"circle\"\r\n            icon=\"close\"\r\n            onClick={handleDeleteClick}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nArticleActions.propTypes = {\r\n  article: PropTypes.instanceOf(Object),\r\n  user: PropTypes.instanceOf(Object),\r\n};\r\n\r\nArticleActions.defaultProps = {\r\n  article: {},\r\n  user: {},\r\n};\r\n\r\nexport default ArticleActions;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { formatDistance } from 'date-fns';\r\nimport { useSelector } from 'react-redux';\r\nimport ruLocale from 'date-fns/locale/ru';\r\nimport { Card, Tag } from 'antd';\r\nimport HistoryBackButton from '../components/HistoryBackButton';\r\nimport ArticleActions from '../components/ArticleActions';\r\n\r\nconst { Meta } = Card;\r\n\r\nconst Article = ({ match }) => {\r\n  const { slug } = match.params;\r\n  const { user, article = {} } = useSelector(state => ({\r\n    article: state.articles.articles.find(item => item.slug === slug) || {},\r\n    user: state.user.user,\r\n  }));\r\n  const { author = {} } = article;\r\n  const formattedDate = formatDistance(new Date(article.createdAt || 0), new Date(), {\r\n    locale: ruLocale,\r\n  });\r\n\r\n  const tags = article.tagList && article.tagList.map(tag => <Tag key={tag}>{tag}</Tag>);\r\n\r\n  return (\r\n    <div style={{ padding: '30px' }}>\r\n      <HistoryBackButton />\r\n      <Card\r\n        hoverable\r\n        title={article.title}\r\n        extra={<ArticleActions article={article} user={user} />}\r\n      >\r\n        <p style={{ minHeight: '200px' }}>{article.body}</p>\r\n        <Meta description={`Создана ${formattedDate} назад. Автор - ${author.username}`} />\r\n        {tags && tags.length > 0 && <p>Тэги: {tags}</p>}\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nArticle.propTypes = {\r\n  match: PropTypes.instanceOf(Object).isRequired,\r\n};\r\n\r\nexport default Article;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Formik, FieldArray } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { isEmpty } from 'lodash';\r\nimport { Form, Input, Icon, Button, Alert, Tag } from 'antd';\r\nimport HistoryBackButton from '../components/HistoryBackButton';\r\nimport * as actions from '../store/actions';\r\n\r\nconst ArticleEdit = ({ match }) => {\r\n  const { slug } = match.params;\r\n  const { article, errors: errorsApi } = useSelector(state => ({\r\n    errors: state.errors,\r\n    article: state.articles.articles.find(item => item.slug === slug),\r\n  }));\r\n  const storageArticle = JSON.parse(localStorage.getItem('openedArticle'));\r\n  const { title, body, description, tagList } = isEmpty(article) ? storageArticle : article;\r\n  const dispatch = useDispatch();\r\n  const inputTagRef = React.createRef();\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    title: Yup.string().required('Title is required'),\r\n    description: Yup.string().required('Description is required'),\r\n    body: Yup.string().required('Body is required'),\r\n    tagList: Yup.array()\r\n      .of(Yup.string().required('Enter a tagname'))\r\n      .min(1, 'Must be minimum one tag'),\r\n  });\r\n  const styles = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    marginTop: '70px',\r\n  };\r\n  return (\r\n    <div className=\"wrapper\" style={styles}>\r\n      <div className=\"content\" style={{ width: '500px' }}>\r\n        <div style={{ display: 'flex', width: '100%' }}>\r\n          <HistoryBackButton /> <h1 style={{ marginLeft: 'auto' }}> Редактирование статьи</h1>\r\n        </div>\r\n        <Formik\r\n          initialValues={{ title, description, body, tagList }}\r\n          validationSchema={validationSchema}\r\n          onSubmit={(values, { setSubmitting, resetForm }) => {\r\n            setSubmitting(true);\r\n            dispatch(actions.editArticleAction(slug, values));\r\n            setSubmitting(false);\r\n            resetForm();\r\n          }}\r\n        >\r\n          {({ values, errors, touched, isSubmitting, handleChange, handleBlur, handleSubmit }) => (\r\n            <Form onSubmit={handleSubmit}>\r\n              <Form.Item\r\n                validateStatus={touched.title && errors.title ? 'error' : null}\r\n                help={touched.title && errors.title ? errors.title : null}\r\n              >\r\n                <Input\r\n                  type=\"title\"\r\n                  id=\"title\"\r\n                  prefix={<Icon type=\"mail\" />}\r\n                  placeholder=\"Enter a title\"\r\n                  value={values.title}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                />\r\n              </Form.Item>\r\n              <Form.Item\r\n                validateStatus={touched.description && errors.description ? 'error' : null}\r\n                help={touched.description && errors.description ? errors.description : null}\r\n              >\r\n                <Input\r\n                  type=\"description\"\r\n                  id=\"description\"\r\n                  prefix={<Icon type=\"lock\" />}\r\n                  placeholder=\"Enter a description\"\r\n                  value={values.description}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                />\r\n              </Form.Item>\r\n              <Form.Item\r\n                validateStatus={touched.body && errors.body ? 'error' : null}\r\n                help={touched.body && errors.body ? errors.body : null}\r\n              >\r\n                <Input.TextArea\r\n                  autoSize={{ minRows: 8, maxRows: 8 }}\r\n                  type=\"body\"\r\n                  id=\"body\"\r\n                  placeholder=\"Enter a body\"\r\n                  value={values.body}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                />\r\n              </Form.Item>\r\n              <Form.Item\r\n                validateStatus={touched.tagList && errors.tagList ? 'error' : null}\r\n                help={touched.tagList && errors.tagList ? errors.tagList : null}\r\n              >\r\n                <FieldArray\r\n                  name=\"tagList\"\r\n                  render={({ remove, push }) => {\r\n                    const tags =\r\n                      values.tagList &&\r\n                      values.tagList.map((tag, index) => (\r\n                        <Tag\r\n                          key={tag}\r\n                          closable\r\n                          name={`tagList[${index}]`}\r\n                          onClose={() => remove(index)}\r\n                        >\r\n                          {tag}\r\n                        </Tag>\r\n                      ));\r\n                    return (\r\n                      <div>\r\n                        {tags}\r\n                        <Input ref={inputTagRef} />\r\n                        <Button\r\n                          type=\"primary\"\r\n                          onClick={() => push(inputTagRef.current.state.value)}\r\n                        >\r\n                          Добавить тег\r\n                        </Button>\r\n                      </div>\r\n                    );\r\n                  }}\r\n                />\r\n              </Form.Item>\r\n              <Form.Item>\r\n                <Button\r\n                  style={{ width: '100%' }}\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                  disabled={isSubmitting}\r\n                >\r\n                  Сохранить изменения\r\n                </Button>\r\n              </Form.Item>\r\n\r\n              {!isEmpty(errorsApi) && (\r\n                <Alert type=\"error\" message={JSON.stringify(errorsApi, null, 2)} />\r\n              )}\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nArticleEdit.propTypes = {\r\n  match: PropTypes.instanceOf(Object).isRequired,\r\n};\r\n\r\nexport default ArticleEdit;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Formik, FieldArray } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { isEmpty } from 'lodash';\r\nimport { Form, Input, Icon, Button, Alert, Tag } from 'antd';\r\nimport HistoryBackButton from '../components/HistoryBackButton';\r\nimport * as actions from '../store/actions';\r\n\r\nconst ArticleAdd = () => {\r\n  const { errors: errorsApi } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\n  const inputTagRef = React.createRef();\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    title: Yup.string().required('Title is required'),\r\n    description: Yup.string().required('Description is required'),\r\n    body: Yup.string().required('Body is required'),\r\n    tagList: Yup.array()\r\n      .of(Yup.string().required('Enter a tagname'))\r\n      .min(1, 'Must be minimum one tag'),\r\n  });\r\n  const styles = {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginTop: '70px',\r\n  };\r\n  return (\r\n    <div className=\"wrapper\" style={styles}>\r\n      <div className=\"content\" style={{ width: '500px' }}>\r\n        <div style={{ display: 'flex', width: '100%' }}>\r\n          <HistoryBackButton /> <h1 style={{ marginLeft: 'auto' }}> Добавление статьи</h1>\r\n        </div>\r\n        <Formik\r\n          initialValues={{ title: '', description: '', body: '', tagList: [] }}\r\n          validationSchema={validationSchema}\r\n          onSubmit={(values, { setSubmitting, resetForm }) => {\r\n            setSubmitting(true);\r\n            dispatch(actions.addArticleAction(values));\r\n            setSubmitting(false);\r\n            resetForm();\r\n          }}\r\n        >\r\n          {({ values, errors, touched, isSubmitting, handleChange, handleBlur, handleSubmit }) => (\r\n            <Form onSubmit={handleSubmit}>\r\n              <Form.Item\r\n                validateStatus={touched.title && errors.title ? 'error' : null}\r\n                help={touched.title && errors.title ? errors.title : null}\r\n              >\r\n                <Input\r\n                  type=\"title\"\r\n                  id=\"title\"\r\n                  prefix={<Icon type=\"mail\" />}\r\n                  placeholder=\"Enter a title\"\r\n                  value={values.title}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                />\r\n              </Form.Item>\r\n              <Form.Item\r\n                validateStatus={touched.description && errors.description ? 'error' : null}\r\n                help={touched.description && errors.description ? errors.description : null}\r\n              >\r\n                <Input\r\n                  type=\"description\"\r\n                  id=\"description\"\r\n                  prefix={<Icon type=\"lock\" />}\r\n                  placeholder=\"Enter a description\"\r\n                  value={values.description}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                />\r\n              </Form.Item>\r\n              <Form.Item\r\n                validateStatus={touched.body && errors.body ? 'error' : null}\r\n                help={touched.body && errors.body ? errors.body : null}\r\n              >\r\n                <Input.TextArea\r\n                  autoSize={{ minRows: 8, maxRows: 8 }}\r\n                  type=\"body\"\r\n                  id=\"body\"\r\n                  placeholder=\"Enter a body\"\r\n                  value={values.body}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                />\r\n              </Form.Item>\r\n              <Form.Item\r\n                validateStatus={touched.tagList && errors.tagList ? 'error' : null}\r\n                help={touched.tagList && errors.tagList ? errors.tagList : null}\r\n              >\r\n                <FieldArray\r\n                  name=\"tagList\"\r\n                  render={({ remove, push }) => {\r\n                    const tags = values.tagList.map((tag, index) => (\r\n                      <Tag\r\n                        key={tag}\r\n                        closable\r\n                        name={`tagList[${index}]`}\r\n                        onClose={() => remove(index)}\r\n                      >\r\n                        {tag}\r\n                      </Tag>\r\n                    ));\r\n                    return (\r\n                      <div>\r\n                        {tags}\r\n                        <Input ref={inputTagRef} />\r\n                        <Button\r\n                          type=\"primary\"\r\n                          onClick={() => push(inputTagRef.current.state.value)}\r\n                        >\r\n                          Добавить тег\r\n                        </Button>\r\n                      </div>\r\n                    );\r\n                  }}\r\n                />\r\n              </Form.Item>\r\n              <Form.Item>\r\n                <Button\r\n                  style={{ width: '100%' }}\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                  disabled={isSubmitting}\r\n                >\r\n                  Сохранить изменения\r\n                </Button>\r\n              </Form.Item>\r\n\r\n              {!isEmpty(errorsApi) && (\r\n                <Alert type=\"error\" message={JSON.stringify(errorsApi, null, 2)} />\r\n              )}\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArticleAdd;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect, Switch, Route } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { Layout } from 'antd';\r\nimport Navbar from '../components/Navbar';\r\nimport Home from './Home';\r\nimport Login from './Login';\r\nimport SignUp from './SignUp';\r\nimport Article from './Article';\r\nimport ArticleEdit from './ArticleEdit';\r\nimport ArticleAdd from './ArticleAdd';\r\n\r\nconst { Header, Content } = Layout;\r\n\r\nconst ConditionalRoute = ({ component: Comp, pathToRedirect, conditionFunc, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => (conditionFunc() ? <Comp {...props} /> : <Redirect to={pathToRedirect} />)}\r\n    />\r\n  );\r\n};\r\n\r\nConditionalRoute.propTypes = {\r\n  component: PropTypes.instanceOf(Object).isRequired,\r\n  pathToRedirect: PropTypes.string.isRequired,\r\n  conditionFunc: PropTypes.func.isRequired,\r\n};\r\n\r\nconst Routes = () => {\r\n  const { loggedIn } = useSelector(state => state.user);\r\n  return (\r\n    <Layout className=\"layout\" style={{ maxWidth: '1440px' }}>\r\n      <Header>\r\n        <div className=\"logo\" />\r\n        <Navbar />\r\n      </Header>\r\n      <Content>\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Redirect to=\"/home\" />\r\n          </Route>\r\n          <ConditionalRoute\r\n            path=\"/add\"\r\n            component={ArticleAdd}\r\n            pathToRedirect=\"/login\"\r\n            conditionFunc={() => loggedIn}\r\n          />\r\n          <ConditionalRoute\r\n            path=\"/articles/:slug/edit\"\r\n            component={ArticleEdit}\r\n            pathToRedirect=\"/login\"\r\n            conditionFunc={() => loggedIn}\r\n          />\r\n          <Route path=\"/home\" component={Home} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/signup\" component={SignUp} />\r\n          <Route exact path=\"/articles/:slug\" component={Article} />\r\n        </Switch>\r\n      </Content>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\nimport { Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\nimport './App.css';\r\nimport 'antd/dist/antd.css';\r\nimport Routes from './routes';\r\nimport history from './history';\r\n\r\nfunction App() {\r\n  return (\r\n    // eslint-disable-next-line react/jsx-filename-extension\r\n    <Provider store={store}>\r\n      <Router history={history}>\r\n        <Routes />\r\n      </Router>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  // eslint-disable-next-line react/jsx-filename-extension\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}