(this["webpackJsonpblog-platform"]=this["webpackJsonpblog-platform"]||[]).push([[0],{268:function(e,t,a){e.exports=a(523)},272:function(e,t,a){},294:function(e,t,a){},523:function(e,t,a){"use strict";a.r(t);var r,n,c,i=a(0),l=a.n(i),s=a(7),o=a.n(s),u=(a(272),a(65)),p=a(12),m=a(64),d=a(246),E=a(18),g=a(262),f=a(36),b=a(528),y=a(11),h=a.n(y),v=a(535),S=a(247),O=a.n(S),j=a(44),x=O.a.create({baseURL:"https://conduit.productionready.io/api/",headers:function(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Token ".concat(e.token)}:{}}()}),w=function(e){var t;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(x.post("/users/login",{user:e}));case 2:return t=a.sent,localStorage.setItem("user",JSON.stringify(t.data.user)),a.abrupt("return",t.data.user);case 5:case"end":return a.stop()}}))},I=function(e){var t;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(x.post("/users",{user:e}));case 2:return t=a.sent,a.abrupt("return",t.data.user);case 4:case"end":return a.stop()}}))},C=function(e){var t;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(x.get("/articles",{params:e}));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},T=function(e,t){var a,r;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(x.put("/articles/".concat(e),JSON.stringify({article:t})));case 2:return a=n.sent,r=a.data.article,n.abrupt("return",r);case 5:case"end":return n.stop()}}))},R=function(e){var t,a;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.awrap(x.post("/articles",JSON.stringify({article:e})));case 2:return t=r.sent,a=t.data.article,r.abrupt("return",a);case 5:case"end":return r.stop()}}))},L=function(e){var t;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(x.delete("/articles/".concat(e)));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))},_=function(e){var t,a;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.awrap(x.post("/articles/".concat(e,"/favorite")));case 2:return t=r.sent,a=t.data.article,r.abrupt("return",a);case 5:case"end":return r.stop()}}))},A=function(e){var t,a;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.awrap(x.delete("/articles/".concat(e,"/favorite")));case 2:return t=r.sent,a=t.data.article,r.abrupt("return",a);case 5:case"end":return r.stop()}}))},k=a(32),U=Object(k.a)({basename:"/blog"}),N=Object(v.a)("USER_LOGIN_REQUEST"),D=Object(v.a)("USER_LOGIN_SUCCESS"),q=Object(v.a)("USER_LOGIN_FAILURE"),F=Object(v.a)("USER_LOGOUT"),z=Object(v.a)("USER_REGISTR_REQUEST"),B=Object(v.a)("USER_REGISTR_SUCCESS"),M=Object(v.a)("USER_REGISTR_FAILURE"),J=Object(v.a)("ARTICLES_REQUEST"),P=Object(v.a)("ARTICLES_SUCCESS"),V=Object(v.a)("ARTICLES_FAILURE"),G=Object(v.a)("EDIT_ARTICLE_REQUEST"),Q=Object(v.a)("EDIT_ARTICLE_SUCCESS"),H=Object(v.a)("EDIT_ARTICLE_FAILURE"),X=Object(v.a)("DELETE_ARTICLE_REQUEST"),W=Object(v.a)("DELETE_ARTICLE_SUCCESS"),K=Object(v.a)("DELETE_ARTICLE_FAILURE"),Z=Object(v.a)("ADD_ARTICLE_REQUEST"),$=Object(v.a)("ADD_ARTICLE_SUCCESS"),Y=Object(v.a)("ADD_ARTICLE_FAILURE"),ee=Object(v.a)("SET_FAVORITE_REQUEST"),te=Object(v.a)("SET_FAVORITE_SUCCESS"),ae=Object(v.a)("SET_FAVORITE_FAILURE"),re=Object(v.a)("UNSET_FAVORITE_REQUEST"),ne=Object(v.a)("UNSET_FAVORITE_SUCCESS"),ce=Object(v.a)("UNSET_FAVORITE_FAILURE"),ie=Object(v.a)("CHANGE_CURRENT_PAGE"),le=Object(v.a)("SET_ARTICLES_PARAMS"),se=function(e){return function(t){var a,r,n;return h.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t(J()),c.prev=1,t(le({params:e})),c.next=5,h.a.awrap(C(e));case 5:a=c.sent,r=a.articles,n=a.articlesCount,t(P({articles:r,articlesCount:n})),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),t(V(c.t0.response.data));case 14:case"end":return c.stop()}}),null,null,[[1,11]])}},oe=Object(b.a)((r={},Object(E.a)(r,le,(function(e,t){var a=t.payload.params;return Object(f.a)({},e,{params:a})})),Object(E.a)(r,te,(function(e,t){var a=t.payload.article,r=e.articles.map((function(e){return e.slug===a.slug?a:e}));return Object(f.a)({},e,{articles:r})})),Object(E.a)(r,ne,(function(e,t){var a=t.payload.article,r=e.articles.map((function(e){return e.slug===a.slug?a:e}));return Object(f.a)({},e,{articles:r})})),Object(E.a)(r,Q,(function(e,t){var a=t.payload.article,r=e.articles.map((function(e){return e.slug===a.slug?a:e}));return Object(f.a)({},e,{articles:r})})),Object(E.a)(r,$,(function(e,t){var a=t.payload.article,r=[].concat(Object(g.a)(e.articles),[a]);return Object(f.a)({},e,{articles:r})})),Object(E.a)(r,W,(function(e,t){var a=t.payload.slug,r=e.srticles.filter((function(e){return e.slug!==a}));return Object(f.a)({},e,{articles:r})})),Object(E.a)(r,P,(function(e,t){var a=t.payload,r=a.articles,n=a.articlesCount;return Object(f.a)({},e,{articles:r,articlesCount:n})})),Object(E.a)(r,V,(function(e){return Object(f.a)({},e,{articles:[]})})),r),{articles:[],articlesCount:0,params:{limit:10}}),ue=Object(b.a)(Object(E.a)({},ie,(function(e,t){var a=t.payload.pageNumber;return Object(f.a)({},e,{currentPage:a})})),{currentPage:1,pageSize:10}),pe=Object(b.a)((n={},Object(E.a)(n,D,(function(){return""})),Object(E.a)(n,q,(function(e,t){return t.payload.errors})),Object(E.a)(n,M,(function(e,t){return t.payload.errors})),Object(E.a)(n,H,(function(e,t){var a=t.payload;return t.payload.errors||a})),Object(E.a)(n,Y,(function(e,t){var a=t.payload;return t.payload.errors||a})),Object(E.a)(n,K,(function(e,t){var a=t.payload;return t.payload.errors||a})),n),{}),me=JSON.parse(localStorage.getItem("user")),de=me?{loggedIn:!0,user:me}:{loggedIn:!1},Ee=Object(b.a)((c={},Object(E.a)(c,D,(function(e,t){return{loggedIn:!0,user:t.payload.userData}})),Object(E.a)(c,q,(function(){return{loggedIn:!1}})),Object(E.a)(c,F,(function(){return localStorage.removeItem("user"),{loggedIn:!1}})),c),de),ge=Object(m.c)({user:Ee,errors:pe,articles:oe,pageSettings:ue}),fe=Object(m.e)(ge,Object(m.d)(Object(m.a)(d.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),be=(a(294),a(295),a(248)),ye=a(525),he=a(529),ve=a(54),Se=Object(u.g)((function(e){var t=Object(p.c)((function(e){return e.user})).loggedIn,a=Object(p.b)(),r=e.location;return l.a.createElement(he.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:[r.pathname],selectedKeys:[r.pathname],style:{lineHeight:"64px",display:"flex"}},l.a.createElement(he.a.Item,{key:"/home"},l.a.createElement(ve.b,{to:"/home"},"Home")),!t&&l.a.createElement(he.a.Item,{key:"/login",style:{marginLeft:"auto"}},l.a.createElement(ve.b,{to:"/login"},"Login")),t&&l.a.createElement(he.a.Item,{style:{marginLeft:"auto"},onClick:function(){return a(F())}},"Log out"))})),Oe=a(531),je=a(527),xe=a(136),we=a(526),Ie=a(533),Ce=a(9),Te=function(e){var t=e.article,a=Object(p.b)(),r=t.favorited,n=t.favoritesCount,c=t.slug;return l.a.createElement("div",null,l.a.createElement(Ce.a,{type:"heart",theme:r?"twoTone":"outlined",twoToneColor:"#eb2f96",style:{fontSize:"20px"},onClick:r?function(){return a(function(e){return function(t){var a;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t(re()),r.prev=1,r.next=4,h.a.awrap(A(e));case 4:a=r.sent,t(ne({article:a})),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),t(ce(r.t0.response.data));case 11:case"end":return r.stop()}}),null,null,[[1,8]])}}(c))}:function(){return a(function(e){return function(t){var a;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t(ee()),r.prev=1,r.next=4,h.a.awrap(_(e));case 4:a=r.sent,t(te({article:a})),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),t(ae(r.t0.response.data));case 11:case"end":return r.stop()}}),null,null,[[1,8]])}}(c))}}),l.a.createElement("span",{style:{fontSize:"22px"}},n))},Re=we.a.Meta,Le=function(e){var t=e.article,a=t.title,r=t.author,n=t.description,c=t.createdAt,i=t.slug,s=t.tagList,o=Object(je.a)(new Date(c),new Date,{locale:xe.a});return l.a.createElement(we.a,{hoverable:!0,title:a,extra:l.a.createElement(Te,{article:t})},l.a.createElement("p",null,n),l.a.createElement(ve.a,{to:"/articles/".concat(i),onClick:function(){localStorage.setItem("openedArticle",JSON.stringify(t))}},"\u0427\u0438\u0442\u0430\u0442\u044c \u0434\u0430\u043b\u0435\u0435..."),l.a.createElement(Re,{description:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430 ".concat(o," \u043d\u0430\u0437\u0430\u0434")}),l.a.createElement(Re,{description:"\u0410\u0432\u0442\u043e\u0440 ".concat(r.username)}),s.length>0&&l.a.createElement("p",null,"\u0422\u044d\u0433\u0438:",s.map((function(e){return l.a.createElement(Ie.a,{key:e},e)}))))},_e=function(){var e=Object(p.c)((function(e){return{articles:e.articles.articles,pageSize:e.pageSettings.pageSize,currentPage:e.pageSettings.currentPage}})).articles.map((function(e){return l.a.createElement(Le,{key:e.slug,article:e})}));return l.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gridGap:"10px"}},e)},Ae=a(524),ke=a(183),Ue=we.a.Meta,Ne=function(){var e=Object(p.c)((function(e){return{pageSize:e.pageSettings.pageSize,params:e.articles.params,user:e.user.user}})),t=e.pageSize,a=e.user,r=Object(p.b)();return l.a.createElement(we.a,{hoverable:!0,style:{width:240,marginRight:"10px"},title:l.a.createElement(Ae.a,{size:64,icon:"user"})},l.a.createElement(Ue,{title:a.username,description:a.email}),l.a.createElement(ke.a,{style:{marginTop:"20px",width:"100%"},type:"primary",onClick:function(){r(se({author:a.username}))}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043c\u043e\u0438 \u0441\u0442\u0430\u0442\u044c\u0438"),l.a.createElement(ke.a,{style:{marginTop:"20px",width:"100%"},type:"primary",onClick:function(){return r(se({limit:t}))}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"),l.a.createElement(ke.a,{style:{marginTop:"20px",width:"100%"},type:"primary",onClick:function(){return r(se({limit:t,favorited:a.username}))}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u0432\u0448\u0438\u0435\u0441\u044f"),l.a.createElement(ke.a,{style:{marginTop:"20px",width:"100%"},type:"primary",onClick:function(){return U.push("/add")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e"))},De=function(){var e=Object(p.c)((function(e){return e.user})).loggedIn,t=Object(p.b)(),a=Object(p.c)((function(e){return{articles:e.articles.articles,articlesCount:e.articles.articlesCount,currentPage:e.pageSettings.currentPage,pageSize:e.pageSettings.pageSize,params:e.articles.params}})),r=a.currentPage,n=a.pageSize,c=a.articlesCount,s=a.params;Object(i.useEffect)((function(){t(se({limit:10}))}),[]);return l.a.createElement("div",{style:{padding:"40px",display:"flex"}},e&&l.a.createElement(Ne,null),l.a.createElement("div",{style:{flexGrow:"1"}},l.a.createElement(_e,null),l.a.createElement(Oe.a,{style:{marginTop:"30px"},current:r,total:c,pageSize:n,onChange:function(e){var a;t((a=e,function(e){return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e(ie({pageNumber:a}));case 1:case"end":return t.stop()}}))})),t(se(Object(f.a)({},s,{offset:(e-1)*n})))}})))},qe=a(51),Fe=a(19),ze=a(530),Be=a(532),Me=a(534),Je=Fe.object().shape({email:Fe.string().email("Must be a valid email address").required("Email is required"),password:Fe.string().required("Password is required")}),Pe=function(){var e=Object(p.c)((function(e){return e})).errors,t=Object(p.b)();return l.a.createElement(qe.b,{initialValues:{email:"",password:""},validationSchema:Je,onSubmit:function(e,a){var r,n=a.setSubmitting,c=a.resetForm;n(!0),t((r=e,function(e){var t;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e(N()),a.prev=1,a.next=4,h.a.awrap(w(r));case 4:t=a.sent,e(D({userData:t})),U.push("/home"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),e(q(a.t0.response.data));case 12:case"end":return a.stop()}}),null,null,[[1,9]])})),n(!1),c()}},(function(t){var a=t.values,r=t.errors,n=t.touched,c=t.isSubmitting,i=t.handleChange,s=t.handleBlur,o=t.handleSubmit;return l.a.createElement(ze.a,{onSubmit:o,style:{marginTop:"70px",width:"300px"}},l.a.createElement(ze.a.Item,{validateStatus:n.email&&r.email?"error":null,help:n.email&&r.email?r.email:null},l.a.createElement(Be.a,{type:"email",id:"email",prefix:l.a.createElement(Ce.a,{type:"mail"}),placeholder:"Enter an email",value:a.email,onChange:i,onBlur:s})),l.a.createElement(ze.a.Item,{validateStatus:n.password&&r.password?"error":null,help:n.password&&r.password?r.password:null},l.a.createElement(Be.a,{type:"password",id:"password",prefix:l.a.createElement(Ce.a,{type:"lock"}),placeholder:"Enter a password",value:a.password,onChange:i,onBlur:s})),l.a.createElement(ze.a.Item,null,l.a.createElement(ke.a,{style:{width:"100%"},type:"primary",htmlType:"submit",disabled:c},"Log in"),"Or ",l.a.createElement(ve.a,{to:"/signup"},"register now!")),!Object(j.isEmpty)(e)&&l.a.createElement(Me.a,{type:"error",message:JSON.stringify(e,null,2)}))}))},Ve=function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement(Pe,null))},Ge=Fe.object().shape({username:Fe.string().min(1,"Must have a character").max(50,"Must be shorter than 50").required("Must enter a name"),email:Fe.string().email("Must be a valid email address").required("Email is required"),password:Fe.string().min(8,"Must be longer than 8").max(40,"Must be shorter than 40").matches(/[0-9]/,"Must have at least one digit").matches(/[A-Z]/,"Must have at least one uppercase character").matches(/^[a-zA-Z0-9]{8,}$/,"Must have only letters and digits").required("Password is required")}),Qe=function(){var e=Object(p.c)((function(e){return e})).errors,t=Object(p.b)();return l.a.createElement(qe.b,{initialValues:{username:"",email:"",password:""},validationSchema:Ge,onSubmit:function(e,a){var r,n=a.setSubmitting,c=a.resetForm;n(!0),t((r=e,function(e){var t;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e(z()),a.prev=1,a.next=4,h.a.awrap(I(r));case 4:t=a.sent,e(B({userData:t})),U.push("/login"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),e(M(a.t0.response.data));case 12:case"end":return a.stop()}}),null,null,[[1,9]])})),n(!1),c()}},(function(t){var a=t.values,r=t.errors,n=t.touched,c=t.isSubmitting,i=t.handleChange,s=t.handleBlur,o=t.handleSubmit;return l.a.createElement(ze.a,{onSubmit:o,style:{marginTop:"70px",width:"300px"}},l.a.createElement(ze.a.Item,{validateStatus:n.username&&r.username?"error":null,help:n.username&&r.username?r.username:null},l.a.createElement(Be.a,{type:"text",id:"username",prefix:l.a.createElement(Ce.a,{type:"user"}),placeholder:"Enter a username",value:a.username,onChange:i,onBlur:s})),l.a.createElement(ze.a.Item,{validateStatus:n.email&&r.email?"error":null,help:n.email&&r.email?r.email:null},l.a.createElement(Be.a,{type:"email",id:"email",prefix:l.a.createElement(Ce.a,{type:"mail"}),placeholder:"Enter an email",value:a.email,onChange:i,onBlur:s})),l.a.createElement(ze.a.Item,{validateStatus:n.password&&r.password?"error":null,help:n.password&&r.password?r.password:null},l.a.createElement(Be.a,{type:"password",id:"password",prefix:l.a.createElement(Ce.a,{type:"lock"}),placeholder:"Enter a password",value:a.password,onChange:i,onBlur:s})),l.a.createElement(ze.a.Item,null,l.a.createElement(ke.a,{style:{width:"100%"},type:"primary",htmlType:"submit",disabled:c},"Sign up")),!Object(j.isEmpty)(e)&&l.a.createElement(Me.a,{type:"error",message:JSON.stringify(e,null,2)}))}))},He=function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement(Qe,null))},Xe=function(){return l.a.createElement(ke.a,{style:{marginBottom:"30px"},type:"primary",onClick:function(){return U.go(-1)}},"\u041d\u0430\u0437\u0430\u0434")},We=function(e){var t=e.article,a=e.user,r=t.author,n=void 0===r?{}:r,c=t.slug,i=Object(p.b)();return l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement("span",{style:{marginRight:"20px"}},l.a.createElement(Te,{article:t})),a.username===n.username&&l.a.createElement("div",null,l.a.createElement(ke.a,{type:"primary",size:"large",shape:"circle",icon:"edit",onClick:function(){U.push("/articles/".concat(c,"/edit"))}}),l.a.createElement(ke.a,{type:"danger",size:"large",shape:"circle",icon:"close",onClick:function(){i(function(e){return function(t){return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t(X()),a.prev=1,a.next=4,h.a.awrap(L(e));case 4:t(W({slug:e})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),t(K(a.t0.response.data));case 10:case"end":return a.stop()}}),null,null,[[1,7]])}}(c)),U.push("/")}})))};We.defaultProps={article:{},user:{}};var Ke=We,Ze=we.a.Meta,$e=function(e){var t=e.match.params.slug,a=Object(p.c)((function(e){return{article:e.articles.articles.find((function(e){return e.slug===t}))||{},user:e.user.user}})),r=a.user,n=a.article,c=void 0===n?{}:n,i=c.author,s=void 0===i?{}:i,o=Object(je.a)(new Date(c.createdAt||0),new Date,{locale:xe.a}),u=c.tagList&&c.tagList.map((function(e){return l.a.createElement(Ie.a,{key:e},e)}));return l.a.createElement("div",{style:{padding:"30px"}},l.a.createElement(Xe,null),l.a.createElement(we.a,{hoverable:!0,title:c.title,extra:l.a.createElement(Ke,{article:c,user:r})},l.a.createElement("p",{style:{minHeight:"200px"}},c.body),l.a.createElement(Ze,{description:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430 ".concat(o," \u043d\u0430\u0437\u0430\u0434. \u0410\u0432\u0442\u043e\u0440 - ").concat(s.username)}),u&&u.length>0&&l.a.createElement("p",null,"\u0422\u044d\u0433\u0438: ",u)))},Ye=function(e){var t=e.match.params.slug,a=Object(p.c)((function(e){return{errors:e.errors,article:e.articles.articles.find((function(e){return e.slug===t}))}})),r=a.article,n=a.errors,c=JSON.parse(localStorage.getItem("openedArticle")),i=Object(j.isEmpty)(r)?c:r,s=i.title,o=i.body,u=i.description,m=i.tagList,d=Object(p.b)(),E=l.a.createRef(),g=Fe.object().shape({title:Fe.string().required("Title is required"),description:Fe.string().required("Description is required"),body:Fe.string().required("Body is required"),tagList:Fe.array().of(Fe.string().required("Enter a tagname")).min(1,"Must be minimum one tag")});return l.a.createElement("div",{className:"wrapper",style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",marginTop:"70px"}},l.a.createElement("div",{className:"content",style:{width:"500px"}},l.a.createElement("div",{style:{display:"flex",width:"100%"}},l.a.createElement(Xe,null)," ",l.a.createElement("h1",{style:{marginLeft:"auto"}}," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438")),l.a.createElement(qe.b,{initialValues:{title:s,description:u,body:o,tagList:m},validationSchema:g,onSubmit:function(e,a){var r=a.setSubmitting,n=a.resetForm;r(!0),d(function(e,t){return function(a){var r;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a(G()),n.prev=1,n.next=4,h.a.awrap(T(e,t));case 4:r=n.sent,a(Q({article:r})),U.push("/articles/".concat(e)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),a(H(n.t0.response.data));case 12:case"end":return n.stop()}}),null,null,[[1,9]])}}(t,e)),r(!1),n()}},(function(e){var t=e.values,a=e.errors,r=e.touched,c=e.isSubmitting,i=e.handleChange,s=e.handleBlur,o=e.handleSubmit;return l.a.createElement(ze.a,{onSubmit:o},l.a.createElement(ze.a.Item,{validateStatus:r.title&&a.title?"error":null,help:r.title&&a.title?a.title:null},l.a.createElement(Be.a,{type:"title",id:"title",prefix:l.a.createElement(Ce.a,{type:"mail"}),placeholder:"Enter a title",value:t.title,onChange:i,onBlur:s})),l.a.createElement(ze.a.Item,{validateStatus:r.description&&a.description?"error":null,help:r.description&&a.description?a.description:null},l.a.createElement(Be.a,{type:"description",id:"description",prefix:l.a.createElement(Ce.a,{type:"lock"}),placeholder:"Enter a description",value:t.description,onChange:i,onBlur:s})),l.a.createElement(ze.a.Item,{validateStatus:r.body&&a.body?"error":null,help:r.body&&a.body?a.body:null},l.a.createElement(Be.a.TextArea,{autoSize:{minRows:8,maxRows:8},type:"body",id:"body",placeholder:"Enter a body",value:t.body,onChange:i,onBlur:s})),l.a.createElement(ze.a.Item,{validateStatus:r.tagList&&a.tagList?"error":null,help:r.tagList&&a.tagList?a.tagList:null},l.a.createElement(qe.a,{name:"tagList",render:function(e){var a=e.remove,r=e.push,n=t.tagList&&t.tagList.map((function(e,t){return l.a.createElement(Ie.a,{key:e,closable:!0,name:"tagList[".concat(t,"]"),onClose:function(){return a(t)}},e)}));return l.a.createElement("div",null,n,l.a.createElement(Be.a,{ref:E}),l.a.createElement(ke.a,{type:"primary",onClick:function(){return r(E.current.state.value)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433"))}})),l.a.createElement(ze.a.Item,null,l.a.createElement(ke.a,{style:{width:"100%"},type:"primary",htmlType:"submit",disabled:c},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f")),!Object(j.isEmpty)(n)&&l.a.createElement(Me.a,{type:"error",message:JSON.stringify(n,null,2)}))}))))},et=function(){var e=Object(p.c)((function(e){return e})).errors,t=Object(p.b)(),a=l.a.createRef(),r=Fe.object().shape({title:Fe.string().required("Title is required"),description:Fe.string().required("Description is required"),body:Fe.string().required("Body is required"),tagList:Fe.array().of(Fe.string().required("Enter a tagname")).min(1,"Must be minimum one tag")});return l.a.createElement("div",{className:"wrapper",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"70px"}},l.a.createElement("div",{className:"content",style:{width:"500px"}},l.a.createElement("div",{style:{display:"flex",width:"100%"}},l.a.createElement(Xe,null)," ",l.a.createElement("h1",{style:{marginLeft:"auto"}}," \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438")),l.a.createElement(qe.b,{initialValues:{title:"",description:"",body:"",tagList:[]},validationSchema:r,onSubmit:function(e,a){var r,n=a.setSubmitting,c=a.resetForm;n(!0),t((r=e,function(e){var t;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e(Z()),a.prev=1,a.next=4,h.a.awrap(R(r));case 4:t=a.sent,e($({article:t})),U.push("/articles/".concat(t.slug)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),e(Y(a.t0.response.data));case 12:case"end":return a.stop()}}),null,null,[[1,9]])})),n(!1),c()}},(function(t){var r=t.values,n=t.errors,c=t.touched,i=t.isSubmitting,s=t.handleChange,o=t.handleBlur,u=t.handleSubmit;return l.a.createElement(ze.a,{onSubmit:u},l.a.createElement(ze.a.Item,{validateStatus:c.title&&n.title?"error":null,help:c.title&&n.title?n.title:null},l.a.createElement(Be.a,{type:"title",id:"title",prefix:l.a.createElement(Ce.a,{type:"mail"}),placeholder:"Enter a title",value:r.title,onChange:s,onBlur:o})),l.a.createElement(ze.a.Item,{validateStatus:c.description&&n.description?"error":null,help:c.description&&n.description?n.description:null},l.a.createElement(Be.a,{type:"description",id:"description",prefix:l.a.createElement(Ce.a,{type:"lock"}),placeholder:"Enter a description",value:r.description,onChange:s,onBlur:o})),l.a.createElement(ze.a.Item,{validateStatus:c.body&&n.body?"error":null,help:c.body&&n.body?n.body:null},l.a.createElement(Be.a.TextArea,{autoSize:{minRows:8,maxRows:8},type:"body",id:"body",placeholder:"Enter a body",value:r.body,onChange:s,onBlur:o})),l.a.createElement(ze.a.Item,{validateStatus:c.tagList&&n.tagList?"error":null,help:c.tagList&&n.tagList?n.tagList:null},l.a.createElement(qe.a,{name:"tagList",render:function(e){var t=e.remove,n=e.push,c=r.tagList.map((function(e,a){return l.a.createElement(Ie.a,{key:e,closable:!0,name:"tagList[".concat(a,"]"),onClose:function(){return t(a)}},e)}));return l.a.createElement("div",null,c,l.a.createElement(Be.a,{ref:a}),l.a.createElement(ke.a,{type:"primary",onClick:function(){return n(a.current.state.value)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433"))}})),l.a.createElement(ze.a.Item,null,l.a.createElement(ke.a,{style:{width:"100%"},type:"primary",htmlType:"submit",disabled:i},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f")),!Object(j.isEmpty)(e)&&l.a.createElement(Me.a,{type:"error",message:JSON.stringify(e,null,2)}))}))))},tt=ye.a.Header,at=ye.a.Content,rt=function(e){var t=e.component,a=e.pathToRedirect,r=e.conditionFunc,n=Object(be.a)(e,["component","pathToRedirect","conditionFunc"]);return l.a.createElement(u.b,Object.assign({},n,{render:function(e){return r()?l.a.createElement(t,e):l.a.createElement(u.a,{to:a})}}))},nt=function(){var e=Object(p.c)((function(e){return e.user})).loggedIn;return l.a.createElement(ye.a,{className:"layout",style:{maxWidth:"1440px"}},l.a.createElement(tt,null,l.a.createElement("div",{className:"logo"}),l.a.createElement(Se,null)),l.a.createElement(at,null,l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/"},l.a.createElement(u.a,{to:"/home"})),l.a.createElement(rt,{path:"/add",component:et,pathToRedirect:"/login",conditionFunc:function(){return e}}),l.a.createElement(rt,{path:"/articles/:slug/edit",component:Ye,pathToRedirect:"/login",conditionFunc:function(){return e}}),l.a.createElement(u.b,{path:"/home",component:De}),l.a.createElement(u.b,{path:"/login",component:Ve}),l.a.createElement(u.b,{path:"/signup",component:He}),l.a.createElement(u.b,{exact:!0,path:"/articles/:slug",component:$e}))))};var ct=function(){return l.a.createElement(p.a,{store:fe},l.a.createElement(u.c,{history:U},l.a.createElement(nt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(ct,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[268,1,2]]]);
//# sourceMappingURL=main.df4796e8.chunk.js.map