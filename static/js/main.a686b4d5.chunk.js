(this["webpackJsonpblog-platform"]=this["webpackJsonpblog-platform"]||[]).push([[0],{268:function(e,t,a){e.exports=a(523)},272:function(e,t,a){},294:function(e,t,a){},523:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(7),i=a.n(c),l=(a(272),a(64)),s=a(12),o=a(63),u=a(247),p=a(14),m=a(262),d=a(25),E=a(529),f=a(11),b=a.n(f),g=a(536),h=a(248),y=a.n(h).a.create({baseURL:"https://conduit.productionready.io/api/"});y.interceptors.request.use((function(e){var t=(JSON.parse(localStorage.getItem("user"))||{}).token;return t&&(e.headers.Authorization="Token ".concat(t)),e}),(function(e){return Promise.reject(e)}));var v,O,j,S=function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(y.post("/users/login",{user:e}));case 2:return t=a.sent,localStorage.setItem("user",JSON.stringify(t.data.user)),a.abrupt("return",t.data.user);case 5:case"end":return a.stop()}}))},w=function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(y.post("/users",{user:e}));case 2:return t=a.sent,a.abrupt("return",t.data.user);case 4:case"end":return a.stop()}}))},x=function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(y.get("/articles",{params:e}));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},L=function(e,t){var a,r;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(y.put("/articles/".concat(e),{article:t}));case 2:return a=n.sent,r=a.data.article,n.abrupt("return",r);case 5:case"end":return n.stop()}}))},T=function(e){var t,a;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.awrap(y.post("/articles",{article:e}));case 2:return t=r.sent,a=t.data.article,r.abrupt("return",a);case 5:case"end":return r.stop()}}))},I=function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(y.delete("/articles/".concat(e)));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))},C=function(e){var t,a;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.awrap(y.post("/articles/".concat(e,"/favorite")));case 2:return t=r.sent,a=t.data.article,r.abrupt("return",a);case 5:case"end":return r.stop()}}))},R=function(e){var t,a;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.awrap(y.delete("/articles/".concat(e,"/favorite")));case 2:return t=r.sent,a=t.data.article,r.abrupt("return",a);case 5:case"end":return r.stop()}}))},_=a(34),A=Object(_.a)({basename:"/blog"}),U=Object(g.a)("USER_LOGIN_REQUEST"),k=Object(g.a)("USER_LOGIN_SUCCESS"),D=Object(g.a)("USER_LOGIN_FAILURE"),N=Object(g.a)("USER_LOGOUT"),z=Object(g.a)("USER_REGISTR_REQUEST"),F=Object(g.a)("USER_REGISTR_SUCCESS"),q=Object(g.a)("USER_REGISTR_FAILURE"),B=Object(g.a)("ARTICLES_REQUEST"),M=Object(g.a)("ARTICLES_SUCCESS"),V=Object(g.a)("ARTICLES_FAILURE"),P=Object(g.a)("EDIT_ARTICLE_REQUEST"),G=Object(g.a)("EDIT_ARTICLE_SUCCESS"),Q=Object(g.a)("EDIT_ARTICLE_FAILURE"),J=Object(g.a)("DELETE_ARTICLE_REQUEST"),H=Object(g.a)("DELETE_ARTICLE_SUCCESS"),X=Object(g.a)("DELETE_ARTICLE_FAILURE"),W=Object(g.a)("ADD_ARTICLE_REQUEST"),K=Object(g.a)("ADD_ARTICLE_SUCCESS"),Z=Object(g.a)("ADD_ARTICLE_FAILURE"),$=Object(g.a)("SET_FAVORITE_REQUEST"),Y=Object(g.a)("SET_FAVORITE_SUCCESS"),ee=Object(g.a)("SET_FAVORITE_FAILURE"),te=Object(g.a)("UNSET_FAVORITE_REQUEST"),ae=Object(g.a)("UNSET_FAVORITE_SUCCESS"),re=Object(g.a)("UNSET_FAVORITE_FAILURE"),ne=Object(g.a)("CHANGE_CURRENT_PAGE"),ce=Object(g.a)("SET_ARTICLES_PARAMS"),ie=function(e){return function(t){var a;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t(U()),r.prev=1,r.next=4,b.a.awrap(S(e));case 4:a=r.sent,t(k({userData:a})),A.push("/home"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),t(D(r.t0.response.data));case 12:case"end":return r.stop()}}),null,null,[[1,9]])}},le=function(e){return function(t){var a,r,n;return b.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t(B()),c.prev=1,t(ce({params:e})),c.next=5,b.a.awrap(x(e));case 5:a=c.sent,r=a.articles,n=a.articlesCount,t(M({articles:r,articlesCount:n})),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),t(V(c.t0.response.data));case 14:case"end":return c.stop()}}),null,null,[[1,11]])}},se=Object(E.a)((v={},Object(p.a)(v,ce,(function(e,t){var a=t.payload.params;return Object(d.a)({},e,{params:a})})),Object(p.a)(v,Y,(function(e,t){var a=t.payload.article,r=e.articles.map((function(e){return e.slug===a.slug?a:e}));return Object(d.a)({},e,{articles:r})})),Object(p.a)(v,ae,(function(e,t){var a=t.payload.article,r=e.articles.map((function(e){return e.slug===a.slug?a:e}));return Object(d.a)({},e,{articles:r})})),Object(p.a)(v,P,(function(e){return Object(d.a)({},e,{isLoading:!0})})),Object(p.a)(v,G,(function(e,t){var a=t.payload.article,r=e.articles.map((function(e){return e.slug===a.slug?a:e}));return Object(d.a)({},e,{articles:r,isLoading:!1})})),Object(p.a)(v,W,(function(e){return Object(d.a)({},e,{isLoading:!0})})),Object(p.a)(v,K,(function(e,t){var a=t.payload.article,r=[].concat(Object(m.a)(e.articles),[a]);return Object(d.a)({},e,{articles:r,isLoading:!1})})),Object(p.a)(v,H,(function(e,t){var a=t.payload.slug,r=e.articles.filter((function(e){return e.slug!==a}));return Object(d.a)({},e,{articles:r})})),Object(p.a)(v,B,(function(e){return Object(d.a)({},e,{isLoading:!0})})),Object(p.a)(v,M,(function(e,t){var a=t.payload,r=a.articles,n=a.articlesCount;return Object(d.a)({},e,{articles:r,articlesCount:n,isLoading:!1})})),Object(p.a)(v,V,(function(e){return Object(d.a)({},e,{articles:[]})})),v),{articles:[],articlesCount:0,isLoading:!1,params:{limit:10}}),oe=Object(E.a)(Object(p.a)({},ne,(function(e,t){var a=t.payload.pageNumber;return Object(d.a)({},e,{currentPage:a})})),{currentPage:1,pageSize:10}),ue=Object(E.a)((O={},Object(p.a)(O,k,(function(){return""})),Object(p.a)(O,F,(function(){return""})),Object(p.a)(O,D,(function(e,t){return t.payload.errors})),Object(p.a)(O,q,(function(e,t){return t.payload.errors})),Object(p.a)(O,Q,(function(e,t){var a=t.payload;return t.payload.errors||a})),Object(p.a)(O,Z,(function(e,t){var a=t.payload;return t.payload.errors||a})),Object(p.a)(O,X,(function(e,t){var a=t.payload;return t.payload.errors||a})),O),{}),pe=JSON.parse(localStorage.getItem("user")),me=pe?{loggedIn:!0,isLoading:!1,user:pe}:{loggedIn:!1,isLoading:!1},de=Object(E.a)((j={},Object(p.a)(j,U,(function(e){return Object(d.a)({},e,{isLoading:!0})})),Object(p.a)(j,k,(function(e,t){return{isLoading:!1,loggedIn:!0,user:t.payload.userData}})),Object(p.a)(j,D,(function(){return{loggedIn:!1}})),Object(p.a)(j,N,(function(){return localStorage.removeItem("user"),{loggedIn:!1}})),j),me),Ee=Object(o.c)({user:de,errors:ue,articles:se,pageSettings:oe}),fe=Object(o.e)(Ee,Object(o.d)(Object(o.a)(u.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),be=(a(294),a(295),a(249)),ge=a(526),he=a(530),ye=a(52),ve=Object(l.g)((function(e){var t=Object(s.c)((function(e){return e.user})).loggedIn,a=Object(s.b)(),r=e.location;return n.a.createElement(he.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:[r.pathname],selectedKeys:[r.pathname],style:{lineHeight:"64px",display:"flex"}},n.a.createElement(he.a.Item,{key:"/home"},n.a.createElement(ye.b,{to:"/home"},"Home")),!t&&n.a.createElement(he.a.Item,{key:"/login",style:{marginLeft:"auto"}},n.a.createElement(ye.b,{to:"/login"},"Login")),t&&n.a.createElement(he.a.Item,{style:{marginLeft:"auto"},onClick:function(){a(N()),a(le({limit:10}))}},"Log out"))})),Oe=a(532),je=a(524),Se=a(528),we=a(138),xe=a(527),Le=a(534),Te=a(9),Ie=function(e){var t=e.article,a=Object(s.b)(),r=t.favorited,c=t.favoritesCount,i=t.slug;return n.a.createElement("div",null,n.a.createElement(Te.a,{type:"heart",theme:r?"twoTone":"outlined",twoToneColor:"#eb2f96",style:{fontSize:"20px"},onClick:r?function(){return a(function(e){return function(t){var a;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t(te()),r.prev=1,r.next=4,b.a.awrap(R(e));case 4:a=r.sent,t(ae({article:a})),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),t(re(r.t0.response.data));case 11:case"end":return r.stop()}}),null,null,[[1,8]])}}(i))}:function(){return a(function(e){return function(t){var a;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t($()),r.prev=1,r.next=4,b.a.awrap(C(e));case 4:a=r.sent,t(Y({article:a})),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),t(ee(r.t0.response.data));case 11:case"end":return r.stop()}}),null,null,[[1,8]])}}(i))}}),n.a.createElement("span",{style:{fontSize:"22px"}},c))},Ce=xe.a.Meta,Re=function(e){var t=e.article,a=t.title,r=t.author,c=t.description,i=t.createdAt,l=t.slug,s=t.tagList,o=Object(Se.a)(new Date(i),new Date,{locale:we.a});return n.a.createElement(xe.a,{hoverable:!0,title:a,extra:n.a.createElement(Ie,{article:t})},n.a.createElement("p",null,c),n.a.createElement(ye.a,{to:"/articles/".concat(l),onClick:function(){localStorage.setItem("openedArticle",JSON.stringify(t))}},"\u0427\u0438\u0442\u0430\u0442\u044c \u0434\u0430\u043b\u0435\u0435..."),n.a.createElement(Ce,{description:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430 ".concat(o," \u043d\u0430\u0437\u0430\u0434")}),n.a.createElement(Ce,{description:"\u0410\u0432\u0442\u043e\u0440 ".concat(r.username)}),s.length>0&&n.a.createElement("p",null,"\u0422\u044d\u0433\u0438:",s.map((function(e){return n.a.createElement(Le.a,{key:e},e)}))))},_e=function(){var e=Object(s.c)((function(e){return{articles:e.articles.articles,isLoading:e.articles.isLoading}})),t=e.articles,a=e.isLoading,r=t.map((function(e){return n.a.createElement(Re,{key:e.slug,article:e})}));return a?n.a.createElement(je.a,{style:{width:"100%"},size:"large"}):n.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gridGap:"10px"}},r)},Ae=a(525),Ue=a(184),ke=xe.a.Meta,De=function(){var e=Object(s.c)((function(e){return{pageSize:e.pageSettings.pageSize,params:e.articles.params,user:e.user.user}})),t=e.pageSize,a=e.user,r=Object(s.b)();return n.a.createElement(xe.a,{hoverable:!0,style:{width:240,marginRight:"10px"},title:n.a.createElement(Ae.a,{size:64,icon:"user"})},n.a.createElement(ke,{title:a.username,description:a.email}),n.a.createElement(Ue.a,{style:{marginTop:"20px",width:"100%"},type:"primary",onClick:function(){r(le({author:a.username}))}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043c\u043e\u0438 \u0441\u0442\u0430\u0442\u044c\u0438"),n.a.createElement(Ue.a,{style:{marginTop:"20px",width:"100%"},type:"primary",onClick:function(){return r(le({limit:t}))}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"),n.a.createElement(Ue.a,{style:{marginTop:"20px",width:"100%"},type:"primary",onClick:function(){return r(le({limit:t,favorited:a.username}))}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u0432\u0448\u0438\u0435\u0441\u044f"),n.a.createElement(Ue.a,{style:{marginTop:"20px",width:"100%"},type:"primary",onClick:function(){return A.push("/add")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e"))},Ne=function(){var e=Object(s.c)((function(e){return e.user})).loggedIn,t=Object(s.b)(),a=Object(s.c)((function(e){return{articles:e.articles.articles,articlesCount:e.articles.articlesCount,currentPage:e.pageSettings.currentPage,pageSize:e.pageSettings.pageSize,params:e.articles.params}})),c=a.currentPage,i=a.pageSize,l=a.articlesCount,o=a.params;Object(r.useEffect)((function(){t(le({limit:10}))}),[]);return n.a.createElement("div",{style:{padding:"40px",display:"flex"}},e&&n.a.createElement(De,null),n.a.createElement("div",{style:{flexGrow:"1"}},n.a.createElement(_e,null),l>i&&n.a.createElement(Oe.a,{style:{marginTop:"30px"},current:c,total:l,pageSize:i,onChange:function(e){var a;t((a=e,function(e){return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e(ne({pageNumber:a}));case 1:case"end":return t.stop()}}))})),t(le(Object(d.a)({},o,{offset:(e-1)*i})))}})))},ze=a(76),Fe=a(29),qe=a(62),Be=a(531),Me=a(533),Ve=a(535),Pe=Fe.object().shape({email:Fe.string().email("Must be a valid email address").required("Email is required"),password:Fe.string().required("Password is required")}),Ge=function(){var e=Object(s.c)((function(e){return e})).errors,t=Object(s.b)(),a=Object.keys(e).reduce((function(t,a){return"".concat(t,"\n").concat(a,": ").concat(e[a].join(","))}),"");return n.a.createElement(ze.b,{initialValues:{email:"",password:""},validationSchema:Pe,onSubmit:function(e,a){var r=a.setSubmitting;r(!0),t(ie(e)),r(!1)}},(function(t){var r=t.values,c=t.errors,i=t.touched,l=t.isSubmitting,s=t.handleChange,o=t.handleBlur,u=t.handleSubmit;return n.a.createElement(Be.a,{onSubmit:u,style:{marginTop:"70px",width:"300px"}},n.a.createElement(Be.a.Item,{validateStatus:i.email&&c.email?"error":null,help:i.email&&c.email?c.email:null},n.a.createElement(Me.a,{type:"email",id:"email",prefix:n.a.createElement(Te.a,{type:"mail"}),placeholder:"Enter an email",value:r.email,onChange:s,onBlur:o})),n.a.createElement(Be.a.Item,{validateStatus:i.password&&c.password?"error":null,help:i.password&&c.password?c.password:null},n.a.createElement(Me.a,{type:"password",id:"password",prefix:n.a.createElement(Te.a,{type:"lock"}),placeholder:"Enter a password",value:r.password,onChange:s,onBlur:o})),n.a.createElement(Be.a.Item,null,n.a.createElement(Ue.a,{style:{width:"100%"},type:"primary",htmlType:"submit",disabled:l},"Log in"),"Or ",n.a.createElement(ye.a,{to:"/signup"},"register now!")),!Object(qe.isEmpty)(e)&&n.a.createElement(Ve.a,{type:"error",message:a}))}))},Qe=function(){return n.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},n.a.createElement(Ge,null))},Je=Fe.object().shape({username:Fe.string().min(1,"Must have a character").max(50,"Must be shorter than 50").required("Must enter a name"),email:Fe.string().email("Must be a valid email address").required("Email is required"),password:Fe.string().min(8,"Must be longer than 8").max(40,"Must be shorter than 40").matches(/[0-9]/,"Must have at least one digit").matches(/[A-Z]/,"Must have at least one uppercase character").matches(/^[a-zA-Z0-9]{8,}$/,"Must have only letters and digits").required("Password is required")}),He=function(){var e=Object(s.c)((function(e){return e})).errors,t=Object(s.b)(),a=Object.keys(e).reduce((function(t,a){return"".concat(t,"\n").concat(a,": ").concat(e[a].join(","))}),"");return n.a.createElement(ze.b,{initialValues:{username:"",email:"",password:""},validationSchema:Je,onSubmit:function(e,a){var r,n=a.setSubmitting;n(!0),t((r=e,function(e){var t,a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e(z()),n.prev=1,n.next=4,b.a.awrap(w(r));case 4:t=r.email,a=r.password,e(ie({email:t,password:a})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),e(q(n.t0.response.data));case 11:case"end":return n.stop()}}),null,null,[[1,8]])})),n(!1)}},(function(t){var r=t.values,c=t.errors,i=t.touched,l=t.isSubmitting,s=t.handleChange,o=t.handleBlur,u=t.handleSubmit;return n.a.createElement(Be.a,{onSubmit:u,style:{marginTop:"70px",width:"300px"}},n.a.createElement(Be.a.Item,{validateStatus:i.username&&c.username?"error":null,help:i.username&&c.username?c.username:null},n.a.createElement(Me.a,{type:"text",id:"username",prefix:n.a.createElement(Te.a,{type:"user"}),placeholder:"Enter a username",value:r.username,onChange:s,onBlur:o})),n.a.createElement(Be.a.Item,{validateStatus:i.email&&c.email?"error":null,help:i.email&&c.email?c.email:null},n.a.createElement(Me.a,{type:"email",id:"email",prefix:n.a.createElement(Te.a,{type:"mail"}),placeholder:"Enter an email",value:r.email,onChange:s,onBlur:o})),n.a.createElement(Be.a.Item,{validateStatus:i.password&&c.password?"error":null,help:i.password&&c.password?c.password:null},n.a.createElement(Me.a,{type:"password",id:"password",prefix:n.a.createElement(Te.a,{type:"lock"}),placeholder:"Enter a password",value:r.password,onChange:s,onBlur:o})),n.a.createElement(Be.a.Item,null,n.a.createElement(Ue.a,{style:{width:"100%"},type:"primary",htmlType:"submit",disabled:l},"Sign up")),!Object(qe.isEmpty)(e)&&n.a.createElement(Ve.a,{type:"error",message:a}))}))},Xe=function(){return n.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},n.a.createElement(He,null))},We=function(){return n.a.createElement(Ue.a,{style:{marginBottom:"30px"},type:"primary",onClick:function(){return A.go(-1)}},"\u041d\u0430\u0437\u0430\u0434")},Ke=function(e){var t=e.article,a=e.user,r=t.author,c=void 0===r?{}:r,i=t.slug,l=Object(s.b)();return n.a.createElement("div",{style:{display:"flex",alignItems:"center"}},n.a.createElement("span",{style:{marginRight:"20px"}},n.a.createElement(Ie,{article:t})),a.username===c.username&&n.a.createElement("div",null,n.a.createElement(Ue.a,{type:"primary",size:"large",shape:"circle",icon:"edit",onClick:function(){A.push("/articles/".concat(i,"/edit"))}}),n.a.createElement(Ue.a,{type:"danger",size:"large",shape:"circle",icon:"close",onClick:function(){l(function(e){return function(t){return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t(J()),a.prev=1,a.next=4,b.a.awrap(I(e));case 4:t(H({slug:e})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),t(X(a.t0.response.data));case 10:case"end":return a.stop()}}),null,null,[[1,7]])}}(i)),A.push("/")}})))};Ke.defaultProps={article:{},user:{}};var Ze=Ke,$e=xe.a.Meta,Ye=function(e){var t=e.match.params.slug,a=Object(s.c)((function(e){return{article:e.articles.articles.find((function(e){return e.slug===t}))||{},user:e.user.user}})),r=a.user,c=a.article,i=void 0===c?{}:c,l=i.author,o=void 0===l?{}:l,u=Object(Se.a)(new Date(i.createdAt||0),new Date,{locale:we.a}),p=i.tagList&&i.tagList.map((function(e){return n.a.createElement(Le.a,{key:e},e)}));return n.a.createElement("div",{style:{padding:"30px"}},n.a.createElement(We,null),n.a.createElement(xe.a,{hoverable:!0,title:i.title,extra:n.a.createElement(Ze,{article:i,user:r})},n.a.createElement("p",{style:{minHeight:"200px"}},i.body),n.a.createElement($e,{description:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430 ".concat(u," \u043d\u0430\u0437\u0430\u0434. \u0410\u0432\u0442\u043e\u0440 - ").concat(o.username)}),p&&p.length>0&&n.a.createElement("p",null,"\u0422\u044d\u0433\u0438: ",p)))},et=function(e){var t=e.initialValues,a=void 0===t?{}:t,r=e.actionToDispatch,c=a.title,i=a.description,l=a.body,o=a.tagList,u=Object(s.c)((function(e){return{errors:e.errors}})).errors,p=n.a.createRef(),m=Object(s.b)(),d=Fe.object().shape({title:Fe.string().required("Title is required"),description:Fe.string().required("Description is required"),body:Fe.string().required("Body is required"),tagList:Fe.array().of(Fe.string().required("Enter a tagname")).min(1,"Must be minimum one tag")}),E=Object.keys(u).reduce((function(e,t){return"".concat(e,"\n").concat(t,": ").concat(u[t].join(","))}),"");return n.a.createElement(ze.b,{initialValues:{title:c,description:i,body:l,tagList:o},validationSchema:d,onSubmit:function(e,t){var a=t.setSubmitting;a(!0),m(r(e)),a(!1)}},(function(e){var t=e.values,a=e.errors,r=e.touched,c=e.isSubmitting,i=e.handleChange,l=e.handleBlur,s=e.handleSubmit;return n.a.createElement(Be.a,{onSubmit:s},n.a.createElement(Be.a.Item,{validateStatus:r.title&&a.title?"error":null,help:r.title&&a.title?a.title:null},n.a.createElement(Me.a,{type:"title",id:"title",prefix:n.a.createElement(Te.a,{type:"mail"}),placeholder:"Enter a title",value:t.title,onChange:i,onBlur:l})),n.a.createElement(Be.a.Item,{validateStatus:r.description&&a.description?"error":null,help:r.description&&a.description?a.description:null},n.a.createElement(Me.a,{type:"description",id:"description",prefix:n.a.createElement(Te.a,{type:"lock"}),placeholder:"Enter a description",value:t.description,onChange:i,onBlur:l})),n.a.createElement(Be.a.Item,{validateStatus:r.body&&a.body?"error":null,help:r.body&&a.body?a.body:null},n.a.createElement(Me.a.TextArea,{autoSize:{minRows:8,maxRows:8},type:"body",id:"body",placeholder:"Enter a body",value:t.body,onChange:i,onBlur:l})),n.a.createElement(Be.a.Item,{validateStatus:r.tagList&&a.tagList?"error":null,help:r.tagList&&a.tagList?a.tagList:null},n.a.createElement(ze.a,{name:"tagList",render:function(e){var a=e.remove,r=e.push,c=t.tagList&&t.tagList.map((function(e,t){return n.a.createElement(Le.a,{key:e,closable:!0,name:"tagList[".concat(t,"]"),onClose:function(){return a(t)}},e)}));return n.a.createElement("div",null,c,n.a.createElement(Me.a,{ref:p}),n.a.createElement(Ue.a,{type:"primary",onClick:function(){r(p.current.state.value),p.current.state.value=""}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433"))}})),n.a.createElement(Be.a.Item,null,n.a.createElement(Ue.a,{style:{width:"100%"},type:"primary",htmlType:"submit",disabled:c},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f")),!Object(qe.isEmpty)(u)&&n.a.createElement(Ve.a,{type:"error",message:E}))}))};et.defaultProps={initialValues:{}};var tt=et,at=function(e){var t=e.match.params.slug,a=Object(s.b)(),r=Object(s.c)((function(e){return{errors:e.errors,article:e.articles.articles.find((function(e){return e.slug===t})),isLoading:e.articles.isLoading}})),c=r.article,i=r.isLoading,l=JSON.parse(localStorage.getItem("openedArticle")),o=Object(qe.isEmpty)(c)?l:c,u=o.title,p=o.body,m=o.description,d=o.tagList;return n.a.createElement("div",{className:"wrapper",style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",marginTop:"70px"}},i?n.a.createElement(je.a,{style:{width:"100%"},size:"large"}):n.a.createElement("div",{className:"content",style:{width:"500px"}},n.a.createElement("div",{style:{display:"flex",width:"100%"}},n.a.createElement(We,null)," ",n.a.createElement("h1",{style:{marginLeft:"auto"}}," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438")),n.a.createElement(tt,{initialValues:{title:u,body:p,description:m,tagList:d},actionToDispatch:function(e){return a(function(e,t){return function(a){var r;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a(P()),n.prev=1,n.next=4,b.a.awrap(L(e,t));case 4:r=n.sent,a(G({article:r})),A.push("/articles/".concat(e)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),a(Q(n.t0.response.data));case 12:case"end":return n.stop()}}),null,null,[[1,9]])}}(t,e))}})))},rt=function(){var e=Object(s.c)((function(e){return{isLoading:e.articles.isLoading}})).isLoading,t=Object(s.b)();return n.a.createElement("div",{className:"wrapper",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"70px"}},e?n.a.createElement(je.a,{style:{width:"100%"},size:"large"}):n.a.createElement("div",{className:"content",style:{width:"500px"}},n.a.createElement("div",{style:{display:"flex",width:"100%"}},n.a.createElement(We,null)," ",n.a.createElement("h1",{style:{marginLeft:"auto"}}," \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438")),n.a.createElement(tt,{actionToDispatch:function(e){return t((a=e,function(e){var t;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e(W()),r.prev=1,r.next=4,b.a.awrap(T(a));case 4:t=r.sent,e(K({article:t})),A.push("/articles/".concat(t.slug)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),e(Z(r.t0.response.data));case 12:case"end":return r.stop()}}),null,null,[[1,9]])}));var a}})))},nt=ge.a.Header,ct=ge.a.Content,it=function(e){var t=e.component,a=e.pathToRedirect,r=e.conditionFunc,c=Object(be.a)(e,["component","pathToRedirect","conditionFunc"]);return n.a.createElement(l.b,Object.assign({},c,{render:function(e){return r()?n.a.createElement(t,e):n.a.createElement(l.a,{to:a})}}))},lt=function(){var e=Object(s.c)((function(e){return e.user})).loggedIn;return n.a.createElement(ge.a,{className:"layout",style:{maxWidth:"1440px"}},n.a.createElement(nt,null,n.a.createElement("div",{className:"logo"}),n.a.createElement(ve,null)),n.a.createElement(ct,null,n.a.createElement(l.d,null,n.a.createElement(l.b,{exact:!0,path:"/"},n.a.createElement(l.a,{to:"/home"})),n.a.createElement(it,{path:"/add",component:rt,pathToRedirect:"/login",conditionFunc:function(){return e}}),n.a.createElement(it,{path:"/articles/:slug/edit",component:at,pathToRedirect:"/login",conditionFunc:function(){return e}}),n.a.createElement(l.b,{path:"/home",component:Ne}),n.a.createElement(l.b,{path:"/login",component:Qe}),n.a.createElement(l.b,{path:"/signup",component:Xe}),n.a.createElement(l.b,{exact:!0,path:"/articles/:slug",component:Ye}))))};var st=function(){return n.a.createElement(s.a,{store:fe},n.a.createElement(l.c,{history:A},n.a.createElement(lt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(st,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[268,1,2]]]);
//# sourceMappingURL=main.a686b4d5.chunk.js.map